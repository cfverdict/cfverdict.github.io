{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangbo85/Desktop/CF-Time-Machine/src/components/ReportView.tsx"],"sourcesContent":["'use client';\n\nimport { CFUser } from '@/types/cf';\nimport { YearStats } from '@/lib/stats';\nimport { motion } from 'framer-motion';\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar } from 'recharts';\n\nexport default function ReportView({ user, stats }: { user: CFUser; stats: YearStats }) {\n  // Prepare chart data\n  const difficultyData = Object.entries(stats.difficultyStats)\n    .map(([rating, count]) => ({ rating: parseInt(rating), count }))\n    .sort((a, b) => a.rating - b.rating);\n\n  const tagData = Object.entries(stats.tagStats)\n    .map(([tag, count]) => ({ tag, count }))\n    .sort((a, b) => b.count - a.count)\n    .slice(0, 6); // Top 6 tags\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 text-white p-4 md:p-8\">\n      <div className=\"max-w-4xl mx-auto space-y-12\">\n        {/* Header */}\n        <motion.div \n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"text-center space-y-4\"\n        >\n          <img \n            src={user.titlePhoto || user.avatar} \n            alt={user.handle} \n            className=\"w-32 h-32 rounded-full mx-auto border-4 border-blue-500\"\n          />\n          <h1 className=\"text-4xl font-bold\">{user.handle}</h1>\n          <p className=\"text-xl text-slate-400\">{user.rank} Â· Rating {user.rating}</p>\n        </motion.div>\n\n        {/* Key Stats Grid */}\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          <StatCard label=\"Problems Solved\" value={stats.totalSolved} />\n          <StatCard label=\"Max Rating\" value={stats.maxRating} />\n          <StatCard label=\"Longest Streak\" value={`${stats.longestStreak} days`} />\n          <StatCard label=\"Active Days\" value={stats.activeDays} />\n        </div>\n\n        {/* Charts Section */}\n        <div className=\"grid md:grid-cols-2 gap-8\">\n          <ChartCard title=\"Problem Rating Distribution\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={difficultyData}>\n                <XAxis dataKey=\"rating\" stroke=\"#94a3b8\" />\n                <YAxis stroke=\"#94a3b8\" />\n                <Tooltip \n                  contentStyle={{ backgroundColor: '#1e293b', border: 'none' }}\n                  itemStyle={{ color: '#fff' }}\n                />\n                <Bar dataKey=\"count\" fill=\"#3b82f6\" radius={[4, 4, 0, 0]} />\n              </BarChart>\n            </ResponsiveContainer>\n          </ChartCard>\n\n          <ChartCard title=\"Top Skills\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <RadarChart cx=\"50%\" cy=\"50%\" outerRadius=\"80%\" data={tagData}>\n                <PolarGrid stroke=\"#334155\" />\n                <PolarAngleAxis dataKey=\"tag\" tick={{ fill: '#94a3b8', fontSize: 12 }} />\n                <PolarRadiusAxis angle={30} domain={[0, 'auto']} tick={false} axisLine={false} />\n                <Radar name=\"Skills\" dataKey=\"count\" stroke=\"#8b5cf6\" fill=\"#8b5cf6\" fillOpacity={0.6} />\n              </RadarChart>\n            </ResponsiveContainer>\n          </ChartCard>\n        </div>\n\n        <ChartCard title=\"Daily Activity (2025)\">\n          <ResponsiveContainer width=\"100%\" height={200}>\n            <BarChart data={stats.heatmapData}>\n              <XAxis dataKey=\"date\" hide />\n              <Tooltip \n                contentStyle={{ backgroundColor: '#1e293b', border: 'none' }}\n                labelStyle={{ color: '#94a3b8' }}\n              />\n              <Bar dataKey=\"count\" fill=\"#10b981\" radius={[2, 2, 0, 0]} />\n            </BarChart>\n          </ResponsiveContainer>\n        </ChartCard>\n        \n        {/* Best Contest */}\n        {stats.bestContest && (\n          <motion.div \n            initial={{ opacity: 0 }}\n            whileInView={{ opacity: 1 }}\n            className=\"bg-gradient-to-r from-purple-900 to-blue-900 p-8 rounded-2xl text-center\"\n          >\n            <h3 className=\"text-2xl font-bold mb-2\">Best Performance</h3>\n            <p className=\"text-lg text-purple-200\">{stats.bestContest.contestName}</p>\n            <div className=\"mt-4 text-4xl font-bold text-white\">\n              +{stats.bestContest.newRating - stats.bestContest.oldRating}\n            </div>\n            <p className=\"text-sm text-purple-300 mt-1\">Rating Increase</p>\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction StatCard({ label, value }: { label: string; value: string | number }) {\n  return (\n    <motion.div \n      initial={{ scale: 0.9, opacity: 0 }}\n      whileInView={{ scale: 1, opacity: 1 }}\n      className=\"bg-slate-900 p-6 rounded-xl border border-slate-800 text-center\"\n    >\n      <div className=\"text-3xl font-bold text-white mb-1\">{value}</div>\n      <div className=\"text-sm text-slate-400\">{label}</div>\n    </motion.div>\n  );\n}\n\nfunction ChartCard({ title, children }: { title: string; children: React.ReactNode }) {\n  return (\n    <div className=\"bg-slate-900 p-6 rounded-xl border border-slate-800\">\n      <h3 className=\"text-lg font-semibold mb-6 text-slate-200\">{title}</h3>\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}